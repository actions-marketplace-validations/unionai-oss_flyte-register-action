{
  "version": 3,
  "sources": ["../node_modules/@actions/core/src/utils.ts", "../node_modules/@actions/core/src/command.ts", "../node_modules/@actions/core/src/file-command.ts", "../node_modules/@actions/core/src/core.ts", "../node_modules/@actions/io/src/io-util.ts", "../node_modules/@actions/io/src/io.ts", "../src/run.ts", "../src/error.ts", "../src/main.ts"],
  "sourcesContent": [null, null, null, null, null, null, "import * as core from '@actions/core';\nimport * as github from '@actions/github'\nimport * as io from '@actions/io';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport cp from 'child_process';\nimport { Error, isError } from './error';\n\n\nconst runnerTempEnvKey = 'RUNNER_TEMP'\n\nexport async function run(): Promise<void> {\n    try {\n        const result = await runPush();\n        if (result !== null && isError(result)) {\n            core.setFailed(result.message);\n        }\n    } catch (error) {\n        if (isError(error)) {\n            core.setFailed(error.message);\n            return;\n        }\n        core.setFailed('Internal error');\n    }\n}\n\n\nasync function runPush(): Promise<null|Error> {\n    const config = core.getInput('config');\n    if (config === '') {\n        return {\n            message: 'a flytectl config was not provided'\n        };\n    }\n\n    const version = core.getInput('version');\n    if (version === '') {\n        return {\n            message: 'a version for register was not provided'\n        };\n    }\n\n    const project = core.getInput('project');\n    if (project === '') {\n        return {\n            message: 'a project name was not provided'\n        };\n    }\n    \n    const domain = core.getInput('domain');\n    if (domain === '') {\n        return {\n            message: 'a domain name was not provided'\n        };\n    }\n    const proto = core.getInput('proto');\n    if (proto === '') {\n        return {\n            message: 'a serialze proto url was not provided. like https://github.com/flyteorg/flytesnacks/releases/download/v0.2.89/flytesnacks-core.tgz'\n        };\n    }\n\n    const binaryPath = await io.which('flytectl', true);\n    if (binaryPath === '') {\n        return {\n            message: 'flytectl is not installed; please add the \"unionai/flytectl-setup-action\" step to your job found at https://github.com/unionai/flytectl-setup-action'\n        };\n    }\n\n    cp.execSync(\n        `${binaryPath} register file  ${proto} --archive -p ${project} -d ${domain}`\n    );\n\n    return null;\n}", "export interface Error {\n  message: string;\n}\n\nexport function isError(value: any): value is Error {\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  return (value as Error).message !== undefined;\n}\n", "import {run} from './run';\n\nvoid run();"],
  "mappings": "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",
  "names": []
}
